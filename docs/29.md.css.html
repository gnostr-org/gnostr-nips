<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>29</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="nip-29">NIP-29</h1>
<h2 id="relay-based-groups">Relay-based Groups</h2>
<p><code>draft</code> <code>optional</code></p>
<p>This NIP defines a standard for groups that are only writable by a
closed set of users. They can be public for reading by external users or
not.</p>
<p>Groups are identified by a random string of any length that serves as
an <em>id</em>.</p>
<p>There is no way to create a group, what happens is just that relays
(most likely when asked by users) will create rules around some specific
ids so these ids can serve as an actual group, henceforth messages sent
to that group will be subject to these rules.</p>
<p>Normally a group will originally belong to one specific relay, but
the community may choose to move the group to other relays or even fork
the group so it exists in different forms – still using the same
<em>id</em> – across different relays.</p>
<h2 id="relay-generated-events">Relay-generated events</h2>
<p>Relays are supposed to generate the events that describe group
metadata and group admins. These are <em>addressable</em> events signed
by the relay keypair directly, with the group <em>id</em> as the
<code>d</code> tag.</p>
<h2 id="group-identifier">Group identifier</h2>
<p>A group may be identified by a string in the format
<code>&lt;host&gt;'&lt;group-id&gt;</code>. For example, a group with
<em>id</em> <code>abcdef</code> hosted at the relay
<code>wss://groups.nostr.com</code> would be identified by the string
<code>groups.nostr.com'abcdef</code>.</p>
<h2 id="the-h-tag">The <code>h</code> tag</h2>
<p>Events sent by users to groups (chat messages, text notes, moderation
events etc) must have an <code>h</code> tag with the value set to the
group <em>id</em>.</p>
<h2 id="timeline-references">Timeline references</h2>
<p>In order to not be used out of context, events sent to these groups
may contain references to previous events seen from the same relay in
the <code>previous</code> tag. The choice of which previous events to
pick belongs to the clients. The references are to be made using the
first 8 characters (4 bytes) of any event in the last 50 events seen by
the user in the relay, excluding events by themselves. There can be any
number of references (including zero), but it’s recommended that clients
include at least 3 and that relays enforce this.</p>
<p>This is a hack to prevent messages from being broadcasted to external
relays that have forks of one group out of context. Relays are expected
to reject any events that contain timeline references to events not
found in their own database. Clients should also check these to keep
relays honest about them.</p>
<h2 id="late-publication">Late publication</h2>
<p>Relays should prevent late publication (messages published now with a
timestamp from days or even hours ago) unless they are open to receive a
group forked or moved from another relay.</p>
<h2 id="event-definitions">Event definitions</h2>
<ul>
<li><em>text root note</em> (<code>kind:11</code>)</li>
</ul>
<p>This is the basic unit of a “microblog” root text note sent to a
group.</p>
<pre class="jsonc"><code>  &quot;kind&quot;: 11,
  &quot;content&quot;: &quot;hello my friends lovers of pizza&quot;,
  &quot;tags&quot;: [
    [&quot;h&quot;, &quot;&lt;group-id&gt;&quot;],
    [&quot;previous&quot;, &quot;&lt;event-id-first-chars&gt;&quot;, &quot;&lt;event-id-first-chars&gt;&quot;, /*...*/]
  ]
  // other fields...</code></pre>
<ul>
<li><em>threaded text reply</em> (<code>kind:12</code>)</li>
</ul>
<p>This is the basic unit of a “microblog” reply note sent to a group.
It’s the same as <code>kind:11</code>, except for the fact that it must
be used whenever it’s in reply to some other note (either in reply to a
<code>kind:11</code> or a <code>kind:12</code>). <code>kind:12</code>
events SHOULD use NIP-10 markers, leaving an empty relay url:</p>
<ul>
<li><p><code>["e", "&lt;kind-11-root-id&gt;", "", "root"]</code></p></li>
<li><p><code>["e", "&lt;kind-12-event-id&gt;", "", "reply"]</code></p></li>
<li><p><em>chat message</em> (<code>kind:9</code>)</p></li>
</ul>
<p>This is the basic unit of a <em>chat message</em> sent to a
group.</p>
<pre class="jsonc"><code>  &quot;kind&quot;: 9,
  &quot;content&quot;: &quot;hello my friends lovers of pizza&quot;,
  &quot;tags&quot;: [
    [&quot;h&quot;, &quot;&lt;group-id&gt;&quot;],
    [&quot;previous&quot;, &quot;&lt;event-id-first-chars&gt;&quot;, &quot;&lt;event-id-first-chars&gt;&quot;, /*...*/]
  ]
  // other fields...</code></pre>
<ul>
<li><em>chat message threaded reply</em> (<code>kind:10</code>)</li>
</ul>
<p>Similar to <code>kind:12</code>, this is the basic unit of a chat
message sent to a group. This is intended for in-chat threads that may
be hidden by default. Not all in-chat replies MUST use
<code>kind:10</code>, only when the intention is to create a hidden
thread that isn’t part of the normal flow of the chat (although clients
are free to display those by default too).</p>
<p><code>kind:10</code> SHOULD use NIP-10 markers, just like
<code>kind:12</code>.</p>
<ul>
<li><em>join request</em> (<code>kind:9021</code>)</li>
</ul>
<p>Any user can send one of these events to the relay in order to be
automatically or manually added to the group. If the group is
<code>open</code> the relay will automatically issue a
<code>kind:9000</code> in response adding this user. Otherwise group
admins may choose to query for these requests and act upon them.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">9021</span><span class="fu">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;optional reason&quot;</span><span class="fu">,</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;h&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;group-id&gt;&quot;</span><span class="ot">]</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<ul>
<li><em>leave request</em> (<code>kind:9022</code>)</li>
</ul>
<p>Any user can send one of these events to the relay in order to be
automatically removed from the group. The relay will automatically issue
a <code>kind:9001</code> in response removing this user.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">9022</span><span class="fu">,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;optional reason&quot;</span><span class="fu">,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;h&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;group-id&gt;&quot;</span><span class="ot">]</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<ul>
<li><em>moderation events</em> (<code>kinds:9000-9020</code>)
(optional)</li>
</ul>
<p>Clients can send these events to a relay in order to accomplish a
moderation action. Relays must check if the pubkey sending the event is
capable of performing the given action. The relay may discard the event
after taking action or keep it as a moderation log.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">90</span><span class="er">xx</span><span class="fu">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;optional reason&quot;</span><span class="fu">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;h&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;group-id&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;previous&quot;</span><span class="ot">,</span> <span class="er">/*...*/</span><span class="ot">]</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Each moderation action uses a different kind and requires different
arguments, which are given as tags. These are defined in the following
table:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>kind</th>
<th>name</th>
<th>tags</th>
</tr>
</thead>
<tbody>
<tr>
<td>9000</td>
<td><code>add-user</code></td>
<td><code>p</code> (pubkey hex)</td>
</tr>
<tr>
<td>9001</td>
<td><code>remove-user</code></td>
<td><code>p</code> (pubkey hex)</td>
</tr>
<tr>
<td>9002</td>
<td><code>edit-metadata</code></td>
<td><code>name</code>, <code>about</code>, <code>picture</code>
(string)</td>
</tr>
<tr>
<td>9003</td>
<td><code>add-permission</code></td>
<td><code>p</code> (pubkey), <code>permission</code> (name)</td>
</tr>
<tr>
<td>9004</td>
<td><code>remove-permission</code></td>
<td><code>p</code> (pubkey), <code>permission</code> (name)</td>
</tr>
<tr>
<td>9005</td>
<td><code>delete-event</code></td>
<td><code>e</code> (id hex)</td>
</tr>
<tr>
<td>9006</td>
<td><code>edit-group-status</code></td>
<td><code>public</code> or <code>private</code>, <code>open</code> or
<code>closed</code></td>
</tr>
<tr>
<td>9007</td>
<td><code>create-group</code></td>
<td></td>
</tr>
<tr>
<td>9008</td>
<td><code>delete-group</code></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><em>group metadata</em> (<code>kind:39000</code>) (optional)</li>
</ul>
<p>This event defines the metadata for the group – basically how clients
should display it. It must be generated and signed by the relay in which
is found. Relays shouldn’t accept these events if they’re signed by
anyone else.</p>
<p>If the group is forked and hosted in multiple relays, there will be
multiple versions of this event in each different relay and so on.</p>
<pre class="jsonc"><code>{
  &quot;kind&quot;: 39000,
  &quot;content&quot;: &quot;&quot;,
  &quot;tags&quot;: [
    [&quot;d&quot;, &quot;&lt;group-id&gt;&quot;],
    [&quot;name&quot;, &quot;Pizza Lovers&quot;],
    [&quot;picture&quot;, &quot;https://pizza.com/pizza.png&quot;],
    [&quot;about&quot;, &quot;a group for people who love pizza&quot;],
    [&quot;public&quot;], // or [&quot;private&quot;]
    [&quot;open&quot;] // or [&quot;closed&quot;]
  ]
  // other fields...
}</code></pre>
<p><code>name</code>, <code>picture</code> and <code>about</code> are
basic metadata for the group for display purposes. <code>public</code>
signals the group can be <em>read</em> by anyone, while
<code>private</code> signals that only AUTHed users can read.
<code>open</code> signals that anyone can request to join and the
request will be automatically granted, while <code>closed</code> signals
that members must be pre-approved or that requests to join will be
manually handled.</p>
<ul>
<li><em>group admins</em> (<code>kind:39001</code>) (optional)</li>
</ul>
<p>Similar to the group metadata, this event is supposed to be generated
by relays that host the group.</p>
<p>Each admin gets a label that is only used for display purposes, and a
list of permissions it has are listed afterwards. These permissions can
inform client building UI, but ultimately are evaluated by the relay in
order to become effective.</p>
<p>The list of capabilities, as defined by this NIP, for now, is the
following:</p>
<ul>
<li><code>add-user</code></li>
<li><code>edit-metadata</code></li>
<li><code>delete-event</code></li>
<li><code>remove-user</code></li>
<li><code>add-permission</code></li>
<li><code>remove-permission</code></li>
<li><code>edit-group-status</code></li>
<li><code>delete-group</code></li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">39001</span><span class="fu">,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;list of admins for the pizza lovers group&quot;</span><span class="fu">,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;d&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;group-id&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;pubkey1-as-hex&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;ceo&quot;</span><span class="ot">,</span> <span class="st">&quot;add-user&quot;</span><span class="ot">,</span> <span class="st">&quot;edit-metadata&quot;</span><span class="ot">,</span> <span class="st">&quot;delete-event&quot;</span><span class="ot">,</span> <span class="st">&quot;remove-user&quot;</span><span class="ot">],</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;pubkey2-as-hex&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;secretary&quot;</span><span class="ot">,</span> <span class="st">&quot;add-user&quot;</span><span class="ot">,</span> <span class="st">&quot;delete-event&quot;</span><span class="ot">]</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="er">//</span> <span class="er">other</span> <span class="er">fields...</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<ul>
<li><em>group members</em> (<code>kind:39002</code>) (optional)</li>
</ul>
<p>Similar to <em>group admins</em>, this event is supposed to be
generated by relays that host the group.</p>
<p>It’s a NIP-51-like list of pubkeys that are members of the group.
Relays might choose to not to publish this information or to restrict
what pubkeys can fetch it.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">39002</span><span class="fu">,</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;list of members for the pizza lovers group&quot;</span><span class="fu">,</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;d&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;group-id&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;admin1&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;member-pubkey1&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;member-pubkey2&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h2 id="storing-the-list-of-groups-a-user-belongs-to">Storing the list
of groups a user belongs to</h2>
<p>A definition for kind <code>10009</code> was included in <a
href="51.md.css.html">NIP-51</a> that allows clients to store the list of groups
a user wants to remember being in.</p>
</body>
</html>
