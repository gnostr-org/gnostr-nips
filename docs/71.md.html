<h1 id="nip-71">NIP-71</h1>
<h2 id="video-events">Video Events</h2>
<p><code>draft</code> <code>optional</code></p>
<p>This specification defines video events representing a dedicated post
of externally hosted content. These video events are <em>parameterized
replaceable</em> and deletable per <a href="09.md.html">NIP-09</a>.</p>
<p>Unlike a <code>kind 1</code> event with a video attached, Video
Events are meant to contain all additional metadata concerning the
subject media and to be surfaced in video-specific clients rather than
general micro-blogging clients. The thought is for events of this kind
to be referenced in a Netflix, YouTube, or TikTok like nostr client
where the video itself is at the center of the experience.</p>
<h2 id="video-events-1">Video Events</h2>
<p>There are two types of video events represented by different kinds:
horizontal and vertical video events. This is meant to allow clients to
cater to each as the viewing experience for horizontal (landscape)
videos is often different than that of vertical (portrait) videos
(Stories, Reels, Shorts, etc).</p>
<h4 id="format">Format</h4>
<p>The format uses a parameterized replaceable event kind
<code>34235</code> for horizontal videos and <code>34236</code> for
vertical videos.</p>
<p>The <code>.content</code> of these events is a summary or description
on the video content.</p>
<p>The list of tags are as follows: * <code>d</code> (required)
universally unique identifier (UUID). Generated by the client creating
the video event. * <code>url</code> (required) the url to the video file
* <code>m</code> a string indicating the data type of the file. The <a
href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types">MIME
types</a> format must be used, and they should be lowercase. *
<code>title</code> (required) title of the video *
<code>"published_at"</code>, for the timestamp in unix seconds
(stringified) of the first time the video was published * <code>x</code>
containing the SHA-256 hexencoded string of the file. *
<code>size</code> (optional) size of file in bytes * <code>dim</code>
(optional) size of file in pixels in the form
<code>&lt;width&gt;x&lt;height&gt;</code> * <code>duration</code>
(optional) video duration in seconds * <code>magnet</code> (optional)
URI to magnet file * <code>i</code> (optional) torrent infohash *
<code>text-track</code> (optional, repeated) link to WebVTT file for
video, type of supplementary information
(captions/subtitles/chapters/metadata), optional language code *
<code>thumb</code> (optional) url of thumbnail with same aspect ratio *
<code>image</code> (optional) url of preview image with same dimensions
* <code>content-warning</code> (optional) warning about content of NSFW
video * <code>alt</code> (optional) description for accessibility *
<code>segment</code> (optional, repeated) start timestamp in format
<code>HH:MM:SS.sss</code>, end timestamp in format
<code>HH:MM:SS.sss</code>, chapter/segment title, chapter thumbnail-url
* <code>t</code> (optional, repeated) hashtag to categorize video *
<code>p</code> (optional, repeated) 32-bytes hex pubkey of a participant
in the video, optional recommended relay URL * <code>r</code> (optional,
repeated) references / links to web pages</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="er">&lt;</span><span class="dv">32</span><span class="er">-bytes</span> <span class="er">lowercase</span> <span class="er">hex-encoded</span> <span class="er">SHA</span><span class="dv">-256</span> <span class="er">of</span> <span class="er">the</span> <span class="er">the</span> <span class="er">serialized</span> <span class="er">event</span> <span class="er">data&gt;</span><span class="fu">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;pubkey&quot;</span><span class="fu">:</span> <span class="er">&lt;</span><span class="dv">32</span><span class="er">-bytes</span> <span class="er">lowercase</span> <span class="er">hex-encoded</span> <span class="er">public</span> <span class="er">key</span> <span class="er">of</span> <span class="er">the</span> <span class="er">event</span> <span class="er">creator&gt;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="er">&lt;Unix</span> <span class="er">timestamp</span> <span class="er">in</span> <span class="er">seconds&gt;</span><span class="fu">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">34235</span> <span class="er">|</span> <span class="dv">34236</span><span class="fu">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;summary / description of video&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;d&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;UUID&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;title&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;title of video&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;thumb&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;thumbnail image for video&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;published_at&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;unix timestamp&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;alt&quot;</span><span class="ot">,</span> <span class="er">&lt;description&gt;</span><span class="ot">],</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Video</span> <span class="er">Data</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;url&quot;</span><span class="ot">,</span><span class="er">&lt;string</span> <span class="er">with</span> <span class="er">URI</span> <span class="er">of</span> <span class="er">file&gt;</span><span class="ot">],</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;m&quot;</span><span class="ot">,</span> <span class="er">&lt;MIME</span> <span class="er">type&gt;</span><span class="ot">],</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;x&quot;</span><span class="ot">,</span><span class="er">&lt;Hash</span> <span class="er">SHA</span><span class="dv">-256</span><span class="er">&gt;</span><span class="ot">],</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;size&quot;</span><span class="ot">,</span> <span class="er">&lt;size</span> <span class="er">of</span> <span class="er">file</span> <span class="er">in</span> <span class="er">bytes&gt;</span><span class="ot">],</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;duration&quot;</span><span class="ot">,</span> <span class="er">&lt;duration</span> <span class="er">of</span> <span class="er">video</span> <span class="er">in</span> <span class="er">seconds&gt;</span><span class="ot">],</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;dim&quot;</span><span class="ot">,</span> <span class="er">&lt;size</span> <span class="er">of</span> <span class="er">file</span> <span class="er">in</span> <span class="er">pixels&gt;</span><span class="ot">],</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;magnet&quot;</span><span class="ot">,</span><span class="er">&lt;magnet</span> <span class="er">URI&gt;</span> <span class="ot">],</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;i&quot;</span><span class="ot">,</span><span class="er">&lt;torrent</span> <span class="er">infohash&gt;</span><span class="ot">],</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;text-track&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;encoded `kind 6000` event&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;recommended relay urls&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;content-warning&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;reason&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;segment&quot;</span><span class="ot">,</span> <span class="er">&lt;start&gt;</span><span class="ot">,</span> <span class="er">&lt;end&gt;</span><span class="ot">,</span> <span class="st">&quot;&lt;title&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;thumbnail URL&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Participants</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;32-bytes hex of a pubkey&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;optional recommended relay URL&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;p&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;32-bytes hex of a pubkey&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;optional recommended relay URL&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Hashtags</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;t&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;tag&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;t&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;tag&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Reference</span> <span class="er">links</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;r&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;url&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;r&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;url&gt;&quot;</span><span class="ot">]</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h2 id="video-view">Video View</h2>
<p>A video event view is a response to a video event to track a user&#x2019;s
view or progress viewing the video.</p>
<h3 id="format-1">Format</h3>
<p>The format uses a parameterized replaceable event kind
<code>34237</code>.</p>
<p>The <code>.content</code> of these events is optional and could be a
free-form note that acts like a bookmark for the user.</p>
<p>The list of tags are as follows: * <code>a</code> (required)
reference tag to kind <code>34235</code> or <code>34236</code> video
event being viewed * <code>d</code> (required) same as <code>a</code>
reference tag value * <code>viewed</code> (optional, repeated) timestamp
of the user&#x2019;s start time in seconds, timestamp of the user&#x2019;s end time in
seconds</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="er">&lt;</span><span class="dv">32</span><span class="er">-bytes</span> <span class="er">lowercase</span> <span class="er">hex-encoded</span> <span class="er">SHA</span><span class="dv">-256</span> <span class="er">of</span> <span class="er">the</span> <span class="er">the</span> <span class="er">serialized</span> <span class="er">event</span> <span class="er">data&gt;</span><span class="fu">,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;pubkey&quot;</span><span class="fu">:</span> <span class="er">&lt;</span><span class="dv">32</span><span class="er">-bytes</span> <span class="er">lowercase</span> <span class="er">hex-encoded</span> <span class="er">public</span> <span class="er">key</span> <span class="er">of</span> <span class="er">the</span> <span class="er">event</span> <span class="er">creator&gt;</span><span class="fu">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="er">&lt;Unix</span> <span class="er">timestamp</span> <span class="er">in</span> <span class="er">seconds&gt;</span><span class="fu">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;kind&quot;</span><span class="fu">:</span> <span class="dv">34237</span><span class="fu">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;note&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tags&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;a&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;34235 | 34236&gt;:&lt;video event author pubkey&gt;:&lt;d-identifier of video event&gt;&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;optional relay url&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;e&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;event-id&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;relay-url&gt;&quot;</span><span class="ot">]</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;d&quot;</span><span class="ot">,</span> <span class="st">&quot;&lt;34235 | 34236&gt;:&lt;video event author pubkey&gt;:&lt;d-identifier of video event&gt;&quot;</span><span class="ot">],</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="ot">[</span><span class="st">&quot;viewed&quot;</span><span class="ot">,</span> <span class="er">&lt;start&gt;</span><span class="ot">,</span> <span class="er">&lt;end&gt;</span><span class="ot">],</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
